require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([1],{108:function(t,e,n){"use strict";var a=s(n(2)),i=s(n(109));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(i.default))},109:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(111),i=n.n(a),s=n(120);var o=function(t){n(110)},u=n(0)(i.a,s.a,o,"data-v-597477a0",null);e.default=u.exports},110:function(t,e){},111:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},i=u(n(112)),s=u(n(116)),o=n(3);function u(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{modalShow:!1,payShow:!1,num:1,type:1,productInfo:{},totalPrice:0}},components:{Pop:i.default,NumBox:s.default},computed:a({},(0,o.mapState)({personInfo:function(t){return t.personInfo}})),onLoad:function(){this.getProductInfo()},methods:{getNum:function(t){this.num=t},closePayShow:function(){this.payShow=!1},showModal:function(){this.payShow=!0},close:function(){this.num=1,this.modalShow=!1},weichat:function(){t.showToast({title:"暂时不支持微信支付",duration:1e3,icon:"none"})},alipay:function(){this.aliyPay()},pay:function(){this.totalPrice=this.num*this.productInfo.price,this.modalShow=!0,this.closePayShow()},getProductInfo:function(){var t=this;this.Post({url:this.url.goodsGoodslist}).then(function(e){200===e.code&&(t.productInfo=e.data)})},aliyPay:function(){t.request({method:"POST",url:"http://www.dbl.name/index.php/"+this.url.alipayPay,data:{uid:this.personInfo.id,goods_name:"wbc充值",charge:this.price,type:"wbc",num:this.num},header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(e){t.requestPayment({provider:"alipay",orderInfo:e.data,success:function(e){t.showToast({title:"购买成功",duration:1e3})},fail:function(e){t.showToast({title:"购买失败",duration:1e3,icon:"none"})}})}})}}}}).call(e,n(1).default)},112:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(114),i=n.n(a),s=n(115);var o=function(t){n(113)},u=n(0)(i.a,s.a,o,null,null);e.default=u.exports},113:function(t,e){},114:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{show:{type:Boolean,default:!1},type:{type:String,default:"middle"},msg:{type:String,default:""}},data:function(){return{offsetTop:0}},methods:{hide:function(){this.$emit("hidePopup")}}}},115:function(t,e,n){"use strict";var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-mask",style:{top:t.offsetTop+"px"},attrs:{eventid:"eHu-0"},on:{click:t.hide}}),n("view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:["uni-popup","uni-popup-"+t.type]},[t._v("\n\t\t"+t._s(t.msg)+"\n\t\t"),t._t("default",null,{mpcomid:"W3s-0"})],2)])},staticRenderFns:[]};e.a=a},116:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(118),i=n.n(a),s=n(119);var o=function(t){n(117)},u=n(0)(i.a,s.a,o,null,null);e.default=u.exports},117:function(t,e){},118:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"uni-number-box",props:{value:{type:Number,default:0},min:{type:Number,default:-1/0},max:{type:Number,default:1/0},step:{type:Number,default:1},disabled:{type:Boolean,default:!1}},data:function(){return{inputValue:this.value}},computed:{disableSubtract:function(){return this.value<=this.min},disableAdd:function(){return this.value>=this.max}},watch:{value:function(t){this.inputValue=t},inputValue:function(t){this.$emit("change",t)}},methods:{_calcValue:function(t){var e=this._getDecimalScale(),n=this.inputValue*e,a=this.step*e;"subtract"===t?n-=a:"add"===t&&(n+=a),n<this.min||n>this.max||(this.inputValue=n/e)},_getDecimalScale:function(){var t=1;return~~this.step!==this.step&&(t=Math.pow(10,(this.step+"").split(".")[1].length)),t},_onBlur:function(t){var e=t.detail.value;e?((e=+e)>this.max?e=this.max:e<this.min&&(e=this.min),this.inputValue=e):this.inputValue=0}}}},119:function(t,e,n){"use strict";var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"uni-numbox"},[n("view",{staticClass:"uni-numbox-minus",class:{"uni-numbox-disabled":t.disableSubtract},attrs:{eventid:"Ifj-0"},on:{click:function(e){t._calcValue("subtract")}}},[t._v("-")]),n("input",{staticClass:"uni-numbox-value",attrs:{type:"number",disabled:t.disabled,value:t.inputValue,eventid:"3bo-1"},on:{blur:t._onBlur}}),n("view",{staticClass:"uni-numbox-plus",class:{"uni-numbox-disabled":t.disableAdd},attrs:{eventid:"5yv-2"},on:{click:function(e){t._calcValue("add")}}},[t._v("+")])])},staticRenderFns:[]};e.a=a},120:function(t,e,n){"use strict";var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"buyWBC"},[n("image",{attrs:{src:"http://www.dbl.name/wbc/static/images/链接你我.png"}}),n("view",{staticClass:"btn",attrs:{eventid:"nBO-0"},on:{tap:t.showModal}},[t._v("\n\t\t立即购买\n\t")]),n("Pop",{attrs:{show:t.modalShow,type:"bottom",eventid:"enG-4",mpcomid:"fHu-0"},on:{hidePopup:t.close}},[n("view",{staticClass:"modal_cont"},[n("view",{staticClass:"title"},[n("view",{staticClass:"close",attrs:{eventid:"SeT-1"},on:{tap:t.close}},[t._v("\n\t\t\t\t\tX\n\t\t\t\t")]),t._v("\n\t\t\t\t确认付款\n\t\t\t")]),n("view",{staticClass:"num"},[t._v("\n\t\t\t\t￥"+t._s(t.totalPrice)+"\n\t\t\t")]),n("view",{staticClass:"pay_type"},[t._v("\n\t\t\t\t请选择付款方式\n\t\t\t")]),n("view",{staticClass:"wora"},[n("image",{staticClass:"img",attrs:{src:"http://www.dbl.name/wbc/static/images/微信.png",eventid:"0ph-2"},on:{tap:t.weichat}}),n("image",{staticClass:"img",attrs:{src:"http://www.dbl.name/wbc/static/images/支付宝 copy.png",eventid:"CcW-3"},on:{tap:t.alipay}})])])]),n("Pop",{attrs:{show:t.payShow,type:"bottom",eventid:"Ibf-7",mpcomid:"w2H-2"},on:{hidePopup:t.closePayShow}},[n("view",{staticClass:"pay_modal"},[n("view",{staticClass:"pay_top"},[n("view",{staticClass:"money_icon"},[n("image",{attrs:{src:t.productInfo.adv}})]),n("view",{staticClass:"money_num"},[t._v("\n\t\t\t\t\t￥"+t._s(t.productInfo.price)+"\n\t\t\t\t")])]),n("view",{staticClass:"pay_mid"},[n("view",{staticClass:"pay_name"},[t._v("\n\t\t\t\t\t购买数量\n\t\t\t\t")]),n("view",{staticClass:"pay_num"},[n("NumBox",{attrs:{min:1,value:t.num,eventid:"Wfy-5",mpcomid:"xJk-1"},on:{change:t.getNum}})],1)]),n("view",{staticClass:"pay_mid"},[n("view",{staticClass:"pay_name"},[t._v("\n\t\t\t\t\t附加值\n\t\t\t\t")]),n("view",{staticClass:"pay_num"},[t._v("\n\t\t\t\t\t冬革阿里产品"),n("text",[t._v("1")]),t._v("件\n\t\t\t\t")])]),n("view",{staticClass:"btn order_btn",attrs:{eventid:"Msm-6"},on:{tap:t.pay}},[t._v("\n\t\t\t\t确认订单\n\t\t\t")])])])],1)},staticRenderFns:[]};e.a=a}},[108]);